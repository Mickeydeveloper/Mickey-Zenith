import { BOT_NAME, OWNER_NAME } from '../config.js';
import configManager from '../utils/manageConfigs.js';

export async function prem(message, client) {
    try {
        const remoteJid = message?.key?.remoteJid;
        const today = new Date();
        const daysOfWeek = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
        const currentDay = daysOfWeek[today.getDay()];
        const currentDate = today.getDate();
        const currentMonth = today.getMonth() + 1;
        const currentYear = today.getFullYear();
        const number = client?.user?.id?.split(':')[0] || 'Unknown';
        const username = message?.pushName || "Unknown";
        const prefix = configManager?.config?.users?.[number]?.prefix || '!';

        const caption = ` 
‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
    ‡ºí ${BOT_NAME} ‡ºí
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ
‚ï≠‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïÆ
‚îÇ Prefix : ${prefix}
‚îÇ Hello, ${username}  
‚îÇ Day : ${currentDay}
‚îÇ Date : ${currentDate}/${currentMonth}/${currentYear} 
‚îÇ Version : 5.2.0
‚îÇ Base : Mickey        
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ

‚ï≠‚îÄ[ ‚úß PREMIUM CMD ‚úß ]‚îÄ‚îÄ‚ïÆ
‚îÇ      
‚îÇ ‚¨¢ connect 237xxxxx
‚îÇ ‚¨¢ disconnect 237xxxxx 
‚îÇ ‚¨¢ reconnect       
‚ï∞‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚ïØ        

> Powered By ${OWNER_NAME} Tech ü•∑üèæ
`;

        // Send image with caption
        await client.sendMessage(remoteJid, {
            image: { url: "https://files.catbox.moe/8fqjpy.jpeg" },
            caption: caption,
        });

        // Send audio
        await client.sendMessage(remoteJid, {
            audio: { url: "https://files.catbox.moe/2th2bg.mp3" },
            mimetype: 'audio/mp4',
        });

    } catch (error) {
        console.error("Error in prem function:", error);
    }
}

export default prem;
